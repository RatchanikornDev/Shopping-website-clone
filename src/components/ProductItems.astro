---
const { image, name, star, price, sale } = Astro.props;
---

<li>
  <img class="w-full rounded-2xl" src={image} alt={name} />
  <h3 class="font-bold text-xl mt-2">{name}</h3>
  <p class="mt-2 text-yellow-400 flex items-center">
    {
      Array.from({ length: Math.floor(star) }).map((_, i) => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            fill="currentColor"
            d="m5.825 21l1.625-7.025L2 9.25l7.2-.625L12 2l2.8 6.625l7.2.625l-5.45 4.725L18.175 21L12 17.275z"
          />
        </svg>
      ))
    }
    {
      star % 1 !== 0 && (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            fill="currentColor"
            d="m22 9.24l-7.19-.62L12 2L9.19 8.63L2 9.24l5.46 4.73L5.82 21L12 17.27L18.18 21l-1.63-7.03zM12 15.4V6.1l1.71 4.04l4.38.38l-3.32 2.88l1 4.28z"
          />
        </svg>
      )
    }
    <span class="text-black ml-2 text-sm">{star}</span>
  </p>
  <section class="mt-2">
    {
      sale ? (
        <div class="flex md:flex-row gap-3 items-center text-xl">
          <p class="font-bold">${sale.price}</p>
          <p class="line-through text-gray-400">${price}</p>
          <p class="hidden md:inline-block bg-red-100 text-red-500 px-4 py-1 rounded-full text-base">
            -{sale.percentage}%
          </p>
        </div>
      ) : (
        <p class="mt-1 font-bold text-xl">${price}</p>
      )
    }
  </section>
</li>
